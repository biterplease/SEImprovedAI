# ImprovedAI - Server Configuration
# Place this file in the mod's root directory (next to modinfo.sbm)

[Session]
# Update interval for session component (ticks, 60 = 1 second)
UpdateInterval=100

[BlockLimits]
# Maximum number of scheduler blocks per player (-1 = unlimited)
MaxSchedulersPerPlayer=1
# Maximum number of scheduler blocks per faction (-1 = unlimited)
MaxSchedulersPerFaction=5
# Maximum number of drone controller blocks per player (-1 = unlimited)
MaxDroneControllersPerPlayer=10
# Maximum number of drone controller blocks per faction (-1 = unlimited)
MaxDroneControllersPerFaction=50

[Pathfinding]
# Enable/disable pathfinding methods (true/false)
AllowDirectPathfinding=true
AllowSensors=true
AllowObstacleAvoidance=true
AllowSimpleRepositioning=true
AllowAStar=false
AllowDStarLite=false
# Gravity-aware pathfinding
UseGravityAwarePathing=true
# Minimum distance between waypoints in meters
MinWaypointDistance=5.0
# Maximum distance between waypoints in meters
MaxWaypointDistance=15.0
# Maximum repositioning attempts when stuck
MaxRepositionAttempts=10
# Step size for repositioning in meters
RepositionStep=10.0
# Minimum altitude buffer above ground (meters)
MinAltitudeBuffer=20.0
# Maximum pathfinding nodes to evaluate
MaxPathNodes=1000
# Maximum time to spend on pathfinding (milliseconds)
MaxPathfindingTimeMs=50

[Drone]
# Default power monitoring settings (can be overridden per block)
DefaultMonitorHydrogen=false
DefaultMonitorBattery=false
# Default hydrogen thresholds (percentage)
DefaultHydrogenRefuelThreshold=25.0
DefaultHydrogenOperationalThreshold=50.0
# Default battery thresholds (percentage)
DefaultBatteryRefuelThreshold=20.0
DefaultBatteryOperationalThreshold=40.0
# Minimum/Maximum power thresholds allowed
MinPowerThreshold=5.0
MaxPowerThreshold=95.0

[SchedulerBounds]
# Maximum number of targets to track
MaxTargetLimit=100
# Maximum blocks to scan per update
PerScanLimit=100
# Maximum tasks to assign per batch
MaxTaskAssignmentPerBatch=10
# Delay between scans when on standby (ticks)
ScanDelayTicks=600
# Interval for error recovery attempts (ticks)
ErrorRecoveryIntervalTicks=300
# Maximum consecutive errors before critical failure
MaxConsecutiveErrors=3
# Interval for drone maintenance/cleanup (ticks)
MaintenanceIntervalTicks=300

[SchedulerBounds.StateUpdateIntervalTicks]
# Update intervals for different scheduler states (ticks)
Initializing=600
Error=600
Standby=600
Scanning=60
Assigning=60

[DroneNetwork]
# Enable network status broadcasting
AllowNetworkBroadcasting=true
# Default antenna range for status updates (meters)
DefaultAntennaRange=1000.0
# Update rate for network broadcasts (seconds)
NetworkUpdateRate=10.0
# How often schedulers update their antenna cache (ticks)
SchedulerAntennaCacheUpdateIntervalTicks=60
# Message throttling for schedulers (ticks between reads)
SchedulerMessageThrottlingTicks=15
# Maximum messages to read per scheduler update
SchedulerMessageReadLimit=50
# Message throttling for drones (ticks between reads)
DroneMessageThrottlingTicks=180
# How long messages live in the queue (ticks)
MessageRetentionTicks=1800
# How often to clean up old messages (ticks)
MessageCleanupIntervalTicks=600
# Message serialization mode: XML or ProtoBuf
MessageSerializationMode=ProtoBuf

[Logging]
# Log level: Verbose, Info, Debug, Warning, Error
LogLevel=Info
# Enable specific logging categories
LogPathfinding=false
LogDroneNetwork=true
LogDroneOrders=true

# Legacy sections for compatibility (will be removed in future versions)
[Performance]
# These settings have been moved to their respective sections
AIUpdateInterval=10
PowerCheckInterval=180
BroadcastInterval=600

[Safety]
# Maximum consecutive errors before emergency stop
MaxConsecutiveErrors=3